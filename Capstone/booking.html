<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Book Service - Ghar E Garage</title>
    <link href="https://unpkg.com/tailwindcss@^1.0/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-gray-900">
    <header class="bg-blue-900 text-white text-center p-4 font-bold">
        <h1 class="text-5xl">Welcome to Ghar E Garage</h1>
        <h1>Book a Service</h1>
        <nav class="space-x-4"></nav>
            
        </nav>
    </header>
    <main class="flex items-center justify-center h-screen">
        <form class="bg-white p-6 rounded shadow-md" id="bookingForm">
            <div class="mb-4">
                <label for="name" class="block font-bold mb-2">Your Name:</label>
                <input type="text" id="name" name="name" required class="w-full px-3 py-2 border rounded">
            </div>
            <div class="mb-4">
                <label for="email" class="block font-bold mb-2">Your Email:</label>
                <input type="email" id="email" name="email" required class="w-full px-3 py-2 border rounded">
            </div>
            <div class="mb-4">
                <label for="service" class="block font-bold mb-2">Select Service:</label>
                <select id="service" name="service" class="w-full px-3 py-2 border rounded">
                    <!-- Options added via JavaScript -->
                </select>
            </div>
            <div class="mb-4">
                <label for="date" class="block font-bold mb-2">Select Date:</label>
                <input type="date" id="date" name="date" required class="w-full px-3 py-2 border rounded">
            </div>
            <div class="mb-4">
                <label for="notes" class="block font-bold mb-2">Additional Notes (optional):</label>
                <textarea id="notes" name="notes" class="w-full px-3 py-2 border rounded"></textarea>
            </div>
            <button type="submit" class="w-full bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">Book</button>
        </form>
    </main>
    <footer class="text-center p-4 bg-blue-900 text-white fixed bottom-0 w-full">
        <p>&copy; 2024 Ghar E Garage</p>
    </footer>
    <script src="js/data.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            if(getLoggedInUser()==false){
                const servicesList = document.querySelector('main');
                const loginButton = document.createElement('button');
                const textsec=document.createElement('div');
                
                textsec.className="text-white text-center p-4 font-bold";

                textsec.innerHTML = `<h2>
                    Please Login first to access this page
                    <h2/>`;
                servicesList.appendChild(textsec);
                loginButton.textContent = 'Login';
                loginButton.classList.add('bg-blue-500', 'hover:bg-blue-700', 'text','font-bold', 'py-2', 'px-4', 'rounded');
                loginButton.addEventListener('click', function(){
                    window.location.href = 'login.html';
                });
                servicesList.appendChild(loginButton);


            }
            else{
            const serviceSelect = document.getElementById('service');
            services.forEach(service => {
                const option = document.createElement('option');
                option.value = service.id;
                option.textContent = service.name;
                serviceSelect.appendChild(option);
            });
        }
        });

        document.getElementById('bookingForm').addEventListener('submit', function(event) {
            event.preventDefault();
            alert('Booking Successful!');
            window.location.href = 'success.html'; // Redirect to success page
        });
    </script>
    <script>
        if (getLoggedInUser() == false) {

            const servicesList = document.querySelector('nav');
            const login = document.createElement('a');

            login.textContent = 'login';
            login.classList.add('hover:text-gray-200');
            login.addEventListener('click', function () {
                window.location.href = 'login.html';
            });
            servicesList.appendChild(login);

            const register = document.createElement('a');

            register.textContent = 'register';
            register.classList.add('hover:text-gray-200');
            register.addEventListener('click', function () {
                window.location.href = 'register.html';
            });
            servicesList.appendChild(register);


        }
        else {
            const servicesList = document.querySelector('nav');
            const services = document.createElement('a');

            services.textContent = 'Services';
            services.classList.add('hover:text-gray-200');
            services.addEventListener('click', function () {
                window.location.href = 'services.html';
            });
            servicesList.appendChild(services);

            const booking = document.createElement('a');

            booking.textContent = 'Booking';
            booking.classList.add('hover:text-gray-200');
            booking.addEventListener('click', function () {
                window.location.href = 'booking.html';
            });
            servicesList.appendChild(booking);
        }
    </script>
</body>
</html>
